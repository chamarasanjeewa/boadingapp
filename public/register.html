
    <ion-view view-title="Register">
        <ion-content>
            <form name="registerForm" novalidate ng-submit="register(user)">

                <div class="list">
                    <label class="item item-input"   ng-class="{ 'has-error' : registerForm.firstName.$invalid}">
                        <span class="input-label">First name</span>
                        <input type="text" name="firstName" ng-model="user.firstName" required>
                    </label>
                    <div class="form-errors" ng-messages="registerForm.firstName.$error" >
                        <span class="form-error" ng-messages-include="templates/form-errors.html" ></span>
                    </div>
                    <label class="item item-input">
                        <span class="input-label">Last name</span>
                        <input type="text" ng-model="user.lastName">
                    </label>
                    <label class="item item-input" ng-class="{ 'has-error' : registerForm.email.$invalid}">
                        <span class="input-label">Email</span>
                        <input name="email" type="email" ng-model="user.email" required>
                    </label>
                    <div class="form-errors" ng-messages="registerForm.email.$error"  >
                        <div class="form-error" ng-messages-include="templates/form-errors.html" ></div>
                    </div>
                    <label class="item item-input" ng-class="{ 'has-error' : registerForm.phoneNumber.$invalid}">
                        <span class="input-label">Phone number</span>
                        <input type="text"  name ="phoneNumber" placeholder="712188862" ng-model="user.phoneNumber" ng-maxlength="9" ng-minlength="9" required>
                    </label>
                    <div class="form-errors" ng-messages="registerForm.phoneNumber.$error"  >
                        <div class="form-error" ng-message="minlength">This field is must be at least 9 characters.</div>
                        <div class="form-error" ng-message="maxlength">This field is must be at least 9 characters.</div>

                    </div>
                    <label class="item item-input" ng-class="{ 'has-error' : registerForm.username.$invalid}">
                        <span class="input-label">User Name</span>
                        <input type="text" name="username"  ng-model="user.username" username-available ng-minlength="6" required>

                    </label>
                    <div ng-if="registerForm.$pending.usernameExists">checking....</div>
                    <div ng-if="registerForm.$error.usernameExists" class="form-error">username exists already</div>
                    <div class="form-errors" ng-messages="registerForm.username.$error"  >
                        <div class="form-errors" ng-messages="signinForm.username.$error" >
                            <div class="form-error"  ng-message="minlength">Field must contain at least 6 characters</div>
                        </div>
                        <div class="form-errors" ng-messages="signinForm.username.$error" >
                            <div class="form-error"  ng-message="required">Required</div>
                        </div>

                    </div>
                    <label class="item item-input" ng-class="{ 'has-error' : registerForm.password.$invalid}">
                        <span class="input-label">Password</span>
                        <input type="password"  name="password" ng-model="user.password" required>
                    </label>
                    <div class="form-errors" ng-messages="registerForm.password.$error"  >
                        <div class="form-error" ng-messages-include="templates/form-errors.html" ></div>
                    </div>
                </div>

                <div class="padding">
                    <button class="button button-block button-positive" ng-disabled="registerForm.$invalid||loading ||registerForm.$pending ">
                        Register
                        <ion-spinner ng-show="loading" icon="spiral">
                        </ion-spinner>
                    </button>

                    <p class="text-center">
                        <a href="#/signin">Sign In</a>
                    </p>
                </div>
            </form>
        </ion-content>
    </ion-view>
